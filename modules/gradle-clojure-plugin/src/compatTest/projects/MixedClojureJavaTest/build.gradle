plugins {
  id 'gradle-clojure.clojure'
}

repositories {
  mavenCentral()
  maven {
    name = 'Clojars'
    url = 'https://repo.clojars.org/'
  }
  mavenLocal()
}

sourceSets {
  pre
  main.compileClasspath += pre.output
}

configurations {
  preCompile.extendsFrom compile
}

dependencies {
  compile 'org.clojure:clojure:1.8.0'
}

compilePreClojure {
  options.aotCompile = true
}

jar {
  from sourceSets.pre.output
}
